# Summer Project 餐饮推荐系统

## 项目简介

本项目是HITSZ数据科学22级大二本科生小学期暑期的实践项目，旨在开发一个基于用户和菜品评分数据的推荐系统。我们小组使用了协同过滤和矩阵分解技术，通过对历史评分数据的分析和处理，生成个性化的菜品推荐。

## 数据导入和预处理

### 导入数据

1. **导入 SQL 文件**：读取 `meal_list.sql` 文件中的数据。
2. **导入 JSON 文件**：读取 `MealRatings_201705_201706.json` 文件中的评分数据。

### 数据预处理

1. **探索分析**：统计总记录数、总用户数、总菜品数、最高评分和最低评分。
2. **评分分布统计**：计算评分的分布情况。
3. **重复记录检查**：检查并处理重复评分记录。
4. **编码用户和菜品**：对用户和菜品进行编码处理。
5. **数据集划分**：将数据集划分为训练集、验证集和测试集。
6. **保存预处理后的数据**：将处理后的数据保存为 CSV 文件。

## 推荐算法

### 用户-物品矩阵

通过训练集数据，生成用户-物品矩阵，并计算用户相似度和物品相似度矩阵。

### 矩阵分解

使用交替最小二乘法（ALS）进行矩阵分解，生成预测评分矩阵。

### 推荐方法

1. **基于用户的协同过滤推荐**：通过用户相似度，为目标用户推荐菜品。
2. **基于物品的协同过滤推荐**：通过物品相似度，为目标用户推荐菜品。
3. **ALS 推荐**：通过矩阵分解的结果，为目标用户推荐菜品。

## 评估指标

通过以下评估指标对推荐算法进行评估：

1. **准确率（Precision）**
2. **召回率（Recall）**
3. **F1 分数**

## 实验结果

### 算法评估结果

| 算法 | 验证集 Precision | 验证集 Recall | 验证集 F1 | 测试集 Precision | 测试集 Recall | 测试集 F1 |
|---|---|---|---|---|---|---|
| UserBased | 0.0871 | 0.1202 | 0.1010 | 0.0970 | 0.1336 | 0.1124 |
| ItemBased | 0.0832 | 0.1148 | 0.0965 | 0.1050 | 0.1446 | 0.1217 |
| ALS | 0.0283 | 0.0975 | 0.0438 | 0.0327 | 0.1126 | 0.0507 |

### 评估结果分析

* 虽然所有算法的评估指标均在 10% 附近，但考虑到用户行为的随机性，我们认为这是一个可观的数值。
* 人工观察测试集结果发现，整体推荐结果与用户的过往菜单有较高相似度。
* 综合考虑，推荐商认为该推荐系统具有一定的实用价值。


## 文件结构

```
SummerProject
├─ .gitignore
├─ analyze.ipynb
├─ data
│  ├─ MealRatings_201705_201706.json
│  └─ meal_list.sql
├─ demo.ipynb
├─ opt.py
├─ ppt
│  ├─ 01外卖平台推荐方案设计1.pptx
│  ├─ 02外卖平台数据预处理2.pptx
│  ├─ 03外卖平台建立推荐模型3.pptx
│  ├─ 04外卖平台进行菜品推荐4.pptx
│  └─ 大数据实践（2024暑）(终版).pdf
├─ README.md
├─ requirements.txt
└─ ui.py
```

## 运行步骤

1. **克隆项目**：`git clone https://github.com/yourusername/meal-recommendation-system.git`
2. **安装依赖**：`pip install -r requirements.txt`
3. **运行推荐系统**：`python ui.py`
4. **也可打开Jupyter笔记本**：`demo.ipynb`

## 贡献者

- SMARK
- lampethereal
- xt, xz, rb, hz, xy. (缩写)

## 许可证

本项目采用 MIT 许可证 - 详见 [LICENSE](LICENSE) 文件。

---

祝大家都能在大学有所收获，假期愉快！